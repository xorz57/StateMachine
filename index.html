<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StateMachine: StateMachine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">StateMachine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">StateMachine </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/xorz57/StateMachine/actions/workflows/Build.yml"><img src="https://github.com/xorz57/StateMachine/actions/workflows/Build.yml/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
What is a state machine?</h1>
<p >A state machine is a computational model used to design systems that can be in one of a finite number of states at any given time. It consists of a set of states, transitions between those states, and actions that occur as a result of those transitions. The machine begins in an initial state and changes states based on input or events, following predefined rules. State machines are useful for modeling behaviors in various fields such as software development, digital circuit design, and robotics, allowing for clear and organized representation of complex processes and decision logic.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Examples</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
Example 1</h2>
<div class="fragment"><div class="line">stateDiagram-v2</div>
<div class="line">    state0 --&gt; state1 : event1 / action1</div>
<div class="line">    state1 --&gt; state2 : event2 / action2</div>
<div class="line">    state2 --&gt; state1 : event1 / action1</div>
</div><!-- fragment --><p >Here, we use the first implementation of our state machine to transition between states and perform actions.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="StateMachine1_8hpp.html">StateMachine/StateMachine1.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> state {</div>
<div class="line">    state0,</div>
<div class="line">    state1,</div>
<div class="line">    state2</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> <span class="keyword">event</span> {</div>
<div class="line">    event1,</div>
<div class="line">    event2</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> std::string to_string(<span class="keyword">const</span> state &amp;state) {</div>
<div class="line">    <span class="keywordflow">switch</span> (state) {</div>
<div class="line">        <span class="keywordflow">case</span> state::state0:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state0&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> state::state1:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state1&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> state::state2:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state2&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>action {</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> action1 = []() { std::cout &lt;&lt; <span class="stringliteral">&quot;action1&quot;</span> &lt;&lt; std::endl; };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> action2 = []() { std::cout &lt;&lt; <span class="stringliteral">&quot;action2&quot;</span> &lt;&lt; std::endl; };</div>
<div class="line">}<span class="comment">// namespace action</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_typedef" href="StateMachine1_8hpp.html#a21f3ec3b07d753d5b98aef6f2d7809c4">transition_table_t&lt;state, event&gt;</a> tt{</div>
<div class="line">            {{state::state0, event::event1}, {action::action1, state::state1}},</div>
<div class="line">            {{state::state1, event::event2}, {action::action2, state::state2}},</div>
<div class="line">            {{state::state2, event::event1}, {action::action1, state::state1}},</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classstate__machine__t.html">state_machine_t&lt;state, event&gt;</a> sm(state::state0, tt);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event1);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event2);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event1);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aStateMachine1_8hpp_html"><div class="ttname"><a href="StateMachine1_8hpp.html">StateMachine1.hpp</a></div></div>
<div class="ttc" id="aStateMachine1_8hpp_html_a21f3ec3b07d753d5b98aef6f2d7809c4"><div class="ttname"><a href="StateMachine1_8hpp.html#a21f3ec3b07d753d5b98aef6f2d7809c4">transition_table_t</a></div><div class="ttdeci">std::vector&lt; transition_t&lt; state_t, event_t &gt; &gt; transition_table_t</div><div class="ttdef"><b>Definition:</b> StateMachine1.hpp:39</div></div>
<div class="ttc" id="aclassstate__machine__t_html"><div class="ttname"><a href="classstate__machine__t.html">state_machine_t</a></div><div class="ttdef"><b>Definition:</b> StateMachine1.hpp:42</div></div>
</div><!-- fragment --><div class="fragment"><div class="line">state0</div>
<div class="line">action1</div>
<div class="line">state1</div>
<div class="line">action2</div>
<div class="line">state2</div>
<div class="line">action1</div>
<div class="line">state1</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Example 2</h2>
<div class="fragment"><div class="line">stateDiagram-v2</div>
<div class="line">    state0 --&gt; state1 : event1 / action1</div>
<div class="line">    state1 --&gt; state2 : event2 / action2</div>
<div class="line">    state2 --&gt; state1 : event1 / action1</div>
</div><!-- fragment --><p >Here, we use the second implementation to add enter and leave actions, showing more advanced state transitions.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="StateMachine2_8hpp.html">StateMachine/StateMachine2.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> state {</div>
<div class="line">    state0,</div>
<div class="line">    state1,</div>
<div class="line">    state2</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> <span class="keyword">event</span> {</div>
<div class="line">    event1,</div>
<div class="line">    event2</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> std::string to_string(<span class="keyword">const</span> state &amp;state) {</div>
<div class="line">    <span class="keywordflow">switch</span> (state) {</div>
<div class="line">        <span class="keywordflow">case</span> state::state0:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state0&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> state::state1:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state1&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> state::state2:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state2&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>action {</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> action1 = []() { std::cout &lt;&lt; <span class="stringliteral">&quot;action1&quot;</span> &lt;&lt; std::endl; };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> action2 = []() { std::cout &lt;&lt; <span class="stringliteral">&quot;action2&quot;</span> &lt;&lt; std::endl; };</div>
<div class="line">}<span class="comment">// namespace action</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_typedef" href="StateMachine1_8hpp.html#a21f3ec3b07d753d5b98aef6f2d7809c4">transition_table_t&lt;state, event&gt;</a> tt{</div>
<div class="line">            {{state::state0, event::event1}, {action::action1, state::state1}},</div>
<div class="line">            {{state::state1, event::event2}, {action::action2, state::state2}},</div>
<div class="line">            {{state::state2, event::event1}, {action::action1, state::state1}},</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classstate__machine__t.html">state_machine_t&lt;state, event&gt;</a> sm(state::state0, tt);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.set_enter_action(state::state1, []() { std::cout &lt;&lt; <span class="stringliteral">&quot;enter_action1&quot;</span> &lt;&lt; std::endl; });</div>
<div class="line">    sm.set_leave_action(state::state1, []() { std::cout &lt;&lt; <span class="stringliteral">&quot;leave_action1&quot;</span> &lt;&lt; std::endl; });</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event1);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event2);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event1);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aStateMachine2_8hpp_html"><div class="ttname"><a href="StateMachine2_8hpp.html">StateMachine2.hpp</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line">state0</div>
<div class="line">action1</div>
<div class="line">enter_action1</div>
<div class="line">state1</div>
<div class="line">leave_action1</div>
<div class="line">action2</div>
<div class="line">state2</div>
<div class="line">action1</div>
<div class="line">enter_action1</div>
<div class="line">state1</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
Example 3</h2>
<div class="fragment"><div class="line">stateDiagram-v2</div>
<div class="line">    state0 --&gt; state1 : event1 / guard1, action1</div>
<div class="line">    state1 --&gt; state2 : event2 / guard2, action2</div>
<div class="line">    state2 --&gt; state1 : event1 / guard3, action1</div>
</div><!-- fragment --><p >Here, we use the third implementation to demonstrate the use of guards, which allow or prevent transitions based on conditions.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="StateMachine3_8hpp.html">StateMachine/StateMachine3.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> state {</div>
<div class="line">    state0,</div>
<div class="line">    state1,</div>
<div class="line">    state2</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> <span class="keyword">event</span> {</div>
<div class="line">    event1,</div>
<div class="line">    event2</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> std::string to_string(<span class="keyword">const</span> state &amp;state) {</div>
<div class="line">    <span class="keywordflow">switch</span> (state) {</div>
<div class="line">        <span class="keywordflow">case</span> state::state0:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state0&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> state::state1:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state1&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> state::state2:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;state2&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>action {</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> action1 = []() { std::cout &lt;&lt; <span class="stringliteral">&quot;action1&quot;</span> &lt;&lt; std::endl; };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> action2 = []() { std::cout &lt;&lt; <span class="stringliteral">&quot;action2&quot;</span> &lt;&lt; std::endl; };</div>
<div class="line">}<span class="comment">// namespace action</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>guard {</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> guard1 = []() { <span class="keywordflow">return</span> <span class="keyword">true</span>; };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> guard2 = []() { <span class="keywordflow">return</span> <span class="keyword">true</span>; };</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> guard3 = []() { <span class="keywordflow">return</span> <span class="keyword">false</span>; };</div>
<div class="line">}<span class="comment">// namespace guard</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_typedef" href="StateMachine1_8hpp.html#a21f3ec3b07d753d5b98aef6f2d7809c4">transition_table_t&lt;state, event&gt;</a> tt{</div>
<div class="line">            {{state::state0, event::event1}, {guard::guard1, action::action1, state::state1}},</div>
<div class="line">            {{state::state1, event::event2}, {guard::guard2, action::action2, state::state2}},</div>
<div class="line">            {{state::state2, event::event1}, {guard::guard3, action::action1, state::state1}},</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_class" href="classstate__machine__t.html">state_machine_t&lt;state, event&gt;</a> sm(state::state0, tt);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.set_enter_action(state::state1, []() { std::cout &lt;&lt; <span class="stringliteral">&quot;enter_action1&quot;</span> &lt;&lt; std::endl; });</div>
<div class="line">    sm.set_leave_action(state::state1, []() { std::cout &lt;&lt; <span class="stringliteral">&quot;leave_action1&quot;</span> &lt;&lt; std::endl; });</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event1);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event2);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    sm.handle_event(event::event1);</div>
<div class="line">    std::cout &lt;&lt; to_string(sm.get_state()) &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aStateMachine3_8hpp_html"><div class="ttname"><a href="StateMachine3_8hpp.html">StateMachine3.hpp</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line">state0</div>
<div class="line">action1</div>
<div class="line">enter_action1</div>
<div class="line">state1</div>
<div class="line">leave_action1</div>
<div class="line">action2</div>
<div class="line">state2</div>
<div class="line">state2</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
How to Build</h1>
<h3><a class="anchor" id="autotoc_md7"></a>
Linux &amp; macOS</h3>
<div class="fragment"><div class="line">git clone https://github.com/microsoft/vcpkg.git ~/vcpkg</div>
<div class="line">~/vcpkg/bootstrap-vcpkg.sh</div>
<div class="line"> </div>
<div class="line">git clone https://github.com/xorz57/StateMachine.git</div>
<div class="line">cd StateMachine</div>
<div class="line">cmake -B build -DCMAKE_BUILD_TYPE=Release -S . -DCMAKE_TOOLCHAIN_FILE=~/vcpkg/scripts/buildsystems/vcpkg.cmake</div>
<div class="line">cmake --build build --config Release</div>
<div class="line">ctest --build-config Release</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md8"></a>
Windows</h3>
<div class="fragment"><div class="line">git clone https://github.com/microsoft/vcpkg.git C:/vcpkg</div>
<div class="line">C:/vcpkg/bootstrap-vcpkg.bat</div>
<div class="line">C:/vcpkg/vcpkg.exe integrate install</div>
<div class="line"> </div>
<div class="line">git clone https://github.com/xorz57/StateMachine.git</div>
<div class="line">cd StateMachine</div>
<div class="line">cmake -B build -DCMAKE_BUILD_TYPE=Release -S . -DCMAKE_TOOLCHAIN_FILE=C:/vcpkg/scripts/buildsystems/vcpkg.cmake</div>
<div class="line">cmake --build build --config Release</div>
<div class="line">ctest --build-config Release</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Stargazers over time</h1>
<p ><a href="https://starchart.cc/xorz57/StateMachine"><img src="https://starchart.cc/xorz57/StateMachine.svg?variant=adaptive" alt="Stargazers over time" style="pointer-events: none;" class="inline"/></a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
